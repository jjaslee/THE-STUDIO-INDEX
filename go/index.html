<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Connecting…</title>
  <link rel="stylesheet" href="style.css" />

  <script>
    (function () {
      if (localStorage.getItem('studioTheme') === 'dark') {
        document.documentElement.classList.add('dark');
      }
    })();
  </script>

  <style>
    body {
      display: grid;
      place-items: center;
      height: 100vh;
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: var(--mono);
    }

    .redirect-wrap {
      text-align: center;
      width: 240px;
    }

    .label {
      font-size: 9px;
      letter-spacing: 0.15em;
      margin-bottom: 14px;
      opacity: 0.7;
          font-family: var(--mono);

    }

    .bar {
      height: 2px;
      background: var(--border);
      overflow: hidden;
    }

    .bar-fill {
      height: 100%;
      width: 0%;
      background: var(--text);
animation: load 2s cubic-bezier(0.22, 1, 0.36, 1) forwards;    }

    @keyframes load {
      to { width: 100%; }
    }
  </style>
</head>

<body>
  <div class="redirect-wrap">
    <div class="label">CONNECTING TO ARCHIVE SOURCE…</div>
    <div class="bar">
      <div class="bar-fill"></div>
    </div>
  </div>

 <link rel="stylesheet" href="../style.css" />

<script src="../data.js"></script>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const refId = urlParams.get('id');
    
    // Look in the data.js furnitureData array
    const item = furnitureData.find(p => p.id === refId);
    
    // Update the label on the screen
    if (item) {
        document.querySelector('.label').innerText = `CONNECTING TO SOURCE: ${item.id.toUpperCase()}`;
    }

    window.onload = () => {
        if (item && item.link) {
            setTimeout(() => {
                window.location.href = item.link;
            }, 1500);
        } else {
            // Error handling: if no ID found, go back to main site
            setTimeout(() => { window.location.href = '../index.html'; }, 2000);
        }
    };
</script>


</body>
</html>
